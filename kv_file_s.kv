#: set font_name  'font/Roboto-Medium.ttf'
#: set login_font  'font/BASKVILL.ttf'
MDBoxLayout:
    md_bg_color:app.theme_cls.bg_light
    orientation:'vertical'
    AnchorLayout:
        size_hint_y:.4
        # adaptive_height:True
        LogoCard:
            size_hint: None, None
            size: "90dp", "90dp"
            radius: self.size[0] / 2
            # md_bg_color: 1,1,1,1
            pos_hint: {"center_x": .5, "center_y": .2}
            # elevation: 12
            # padding:sp(20)
            FitImage:
                source:'src/logo.png'
                
        
    MDLabel:
        text:"Welcome"
        size_hint_y:.2
        font_name:login_font
        halign:'center'
        theme_text_color:'Custom'
        # text_color:0,0,1,1
        text_color:app.theme_cls.primary_color
        # text_color:app.theme_cls.primary_color
        font_size:dp(60)
        adaptive_height:True
                
    MDBoxLayout:
        # cols:1
        orientation: 'vertical'
        # md_bg_color:.8,.8,.2,1
        
        # padding:dp(50)
        padding: ('50dp', '50dp', '50dp', '30dp')
        MDGridLayout:
            cols:1
            # md_bg_color:.8,.8,.8,1
            size_hint_y:.45
            MDBoxLayout:
                adaptive_height:True
                spacing:dp(15)
                
                MDIcon:
                    icon:'email'
                    font_size:sp(20)
                    adaptive_size:True
                    pos_hint:{'center_y':.5}
                    theme_text_color:'Custom'
                    # text_color:0,0,1,1
                    text_color:app.theme_cls.primary_color
                MDTextField:
                    id:login_email
                    hint_text:'Enter email address'
                    adaptive_height:True
                    color_mode: 'custom'
                    # line_color_focus: 0, 0, 1, 1
                    line_color_focus:app.theme_cls.primary_color
            MDBoxLayout:
                adaptive_height:True
                spacing:dp(15)
            
                ClickableMDIcon:
                    icon:'eye-off' if login_pass.password==True else 'eye'
                    adaptive_size:True
                    font_size:sp(20)
                    pos_hint:{'center_y':.5}
                    theme_text_color:'Custom'
                    # text_color:0,0,1,1
                    text_color:app.theme_cls.primary_color
                    # md_bg_color:.2,.2,.8,1
                    on_press:
                        new_val = not(login_pass.password)
                        login_pass.password =new_val
                            
                MDTextField:
                    id:login_pass
                    hint_text:'Enter Password'
                    adaptive_height:True
                    password:True
                    color_mode: 'custom'
                    # line_color_focus: 0, 0, 1, 1
                    line_color_focus:app.theme_cls.primary_color

        MDBoxLayout:
            orientation:'vertical'
            size_hint_y:.8
            MDTextButton:
                # pos_hint:{'center_y':.2}
                text:'Forgot Password?'
                theme_text_color:'Custom'
                # text_color:0,0,1,1
                text_color:app.theme_cls.primary_color
                # text_color:.6,0,.8,1
                adaptive_height:True
                user_font_size:sp(15)
                pos_hint:{'right':1}
                on_press:
                    root.manager.transition=SlideTransition()
                    root.manager.transition.direction='left'
                    root.manager.current='ResetPage'
                    # app.change_screen('ResetPage')
                    app.set_root(root)
            MDBoxLayout:
                size_hint_y:.2
                MDCard:
                    # text:'LOGIN'
                    pos_hint:{'center_y':.6}
                    size_hint:1,None
                    height:dp(50)
                    radius:dp(10)
                        # theme_text_color:'Custom'
                    # md_bg_color:0,0,1,1
                    md_bg_color:app.theme_cls.primary_color
                    on_press:
                        app.login(login_email.text,login_pass.text,root)
                        # root.manager.transition=SlideTransition()
                        # root.manager.transition.direction='left'
                        # root.manager.current='MainContent'
                        # app.change_screen('MainPage')
                    MDLabel:
                        text:'LOGIN'
                        font_name:login_font
                        halign:'center'
                        font_size:sp(28)
                        theme_text_color:'Custom'
                        text_color:1,1,1,1
            FloatLayout:
                size_hint_y:.2
                
                MDSpinner:        
                    id:login_spinner
                    size_hint:None,None
                    size:dp(30),dp(30)  
                    active:False
                    pos_hint:{'center_y':.5,'center_x':.5}
            AnchorLayout:
                size_hint_y:.05
                anchor_x:'right'
                # md_bg_color:.2,.5,.8,1
                MDTextButton:
                    text:'Create Account?'
                    theme_text_color:'Custom'
                    # text_color:0,0,1,1
                    text_color:app.theme_cls.primary_color
                    # text_color:.6,0,.8,1
                    font_size:sp(20)
                    on_press:
                        root.manager.transition=SlideTransition() 
                        root.manager.transition.direction='left'
                        root.manager.current='RegisterPage'
    
